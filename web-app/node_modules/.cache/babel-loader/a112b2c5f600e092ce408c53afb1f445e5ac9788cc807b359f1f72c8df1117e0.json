{"ast":null,"code":"\"use strict\";\n\nexports.__esModule = true;\nexports.default = useImage;\nvar _react = require(\"react\");\n/**\n * Fetch and load an image for programatic use such as in a `<canvas>` element.\n *\n * @param imageOrUrl The `HtmlImageElement` or image url to load\n * @param crossOrigin The `crossorigin` attribute to set\n *\n * ```ts\n * const { image, error } = useImage('/static/kittens.png')\n * const ref = useRef<HTMLCanvasElement>()\n *\n * useEffect(() => {\n *   const ctx = ref.current.getContext('2d')\n *\n *   if (image) {\n *     ctx.drawImage(image, 0, 0)\n *   }\n * }, [ref, image])\n *\n * return (\n *   <>\n *     {error && \"there was a problem loading the image\"}\n *     <canvas ref={ref} />\n *   </>\n * ```\n */\nfunction useImage(imageOrUrl, crossOrigin) {\n  const [state, setState] = (0, _react.useState)({\n    image: null,\n    error: null\n  });\n  (0, _react.useEffect)(() => {\n    if (!imageOrUrl) return undefined;\n    let image;\n    if (typeof imageOrUrl === 'string') {\n      image = new Image();\n      if (crossOrigin) image.crossOrigin = crossOrigin;\n      image.src = imageOrUrl;\n    } else {\n      image = imageOrUrl;\n      if (image.complete && image.naturalHeight > 0) {\n        setState({\n          image,\n          error: null\n        });\n        return;\n      }\n    }\n    function onLoad() {\n      setState({\n        image,\n        error: null\n      });\n    }\n    function onError(error) {\n      setState({\n        image,\n        error\n      });\n    }\n    image.addEventListener('load', onLoad);\n    image.addEventListener('error', onError);\n    return () => {\n      image.removeEventListener('load', onLoad);\n      image.removeEventListener('error', onError);\n    };\n  }, [imageOrUrl, crossOrigin]);\n  return state;\n}","map":{"version":3,"names":["exports","__esModule","default","useImage","_react","require","imageOrUrl","crossOrigin","state","setState","useState","image","error","useEffect","undefined","Image","src","complete","naturalHeight","onLoad","onError","addEventListener","removeEventListener"],"sources":["C:/Users/ratho/OneDrive/Desktop/sunbeam_git/react-express-sample/ecommerce-app/web-app/node_modules/@restart/hooks/cjs/useImage.js"],"sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.default = useImage;\nvar _react = require(\"react\");\n/**\n * Fetch and load an image for programatic use such as in a `<canvas>` element.\n *\n * @param imageOrUrl The `HtmlImageElement` or image url to load\n * @param crossOrigin The `crossorigin` attribute to set\n *\n * ```ts\n * const { image, error } = useImage('/static/kittens.png')\n * const ref = useRef<HTMLCanvasElement>()\n *\n * useEffect(() => {\n *   const ctx = ref.current.getContext('2d')\n *\n *   if (image) {\n *     ctx.drawImage(image, 0, 0)\n *   }\n * }, [ref, image])\n *\n * return (\n *   <>\n *     {error && \"there was a problem loading the image\"}\n *     <canvas ref={ref} />\n *   </>\n * ```\n */\nfunction useImage(imageOrUrl, crossOrigin) {\n  const [state, setState] = (0, _react.useState)({\n    image: null,\n    error: null\n  });\n  (0, _react.useEffect)(() => {\n    if (!imageOrUrl) return undefined;\n    let image;\n    if (typeof imageOrUrl === 'string') {\n      image = new Image();\n      if (crossOrigin) image.crossOrigin = crossOrigin;\n      image.src = imageOrUrl;\n    } else {\n      image = imageOrUrl;\n      if (image.complete && image.naturalHeight > 0) {\n        setState({\n          image,\n          error: null\n        });\n        return;\n      }\n    }\n    function onLoad() {\n      setState({\n        image,\n        error: null\n      });\n    }\n    function onError(error) {\n      setState({\n        image,\n        error\n      });\n    }\n    image.addEventListener('load', onLoad);\n    image.addEventListener('error', onError);\n    return () => {\n      image.removeEventListener('load', onLoad);\n      image.removeEventListener('error', onError);\n    };\n  }, [imageOrUrl, crossOrigin]);\n  return state;\n}"],"mappings":"AAAA,YAAY;;AAEZA,OAAO,CAACC,UAAU,GAAG,IAAI;AACzBD,OAAO,CAACE,OAAO,GAAGC,QAAQ;AAC1B,IAAIC,MAAM,GAAGC,OAAO,CAAC,OAAO,CAAC;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASF,QAAQA,CAACG,UAAU,EAAEC,WAAW,EAAE;EACzC,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAG,CAAC,CAAC,EAAEL,MAAM,CAACM,QAAQ,EAAE;IAC7CC,KAAK,EAAE,IAAI;IACXC,KAAK,EAAE;EACT,CAAC,CAAC;EACF,CAAC,CAAC,EAAER,MAAM,CAACS,SAAS,EAAE,MAAM;IAC1B,IAAI,CAACP,UAAU,EAAE,OAAOQ,SAAS;IACjC,IAAIH,KAAK;IACT,IAAI,OAAOL,UAAU,KAAK,QAAQ,EAAE;MAClCK,KAAK,GAAG,IAAII,KAAK,CAAC,CAAC;MACnB,IAAIR,WAAW,EAAEI,KAAK,CAACJ,WAAW,GAAGA,WAAW;MAChDI,KAAK,CAACK,GAAG,GAAGV,UAAU;IACxB,CAAC,MAAM;MACLK,KAAK,GAAGL,UAAU;MAClB,IAAIK,KAAK,CAACM,QAAQ,IAAIN,KAAK,CAACO,aAAa,GAAG,CAAC,EAAE;QAC7CT,QAAQ,CAAC;UACPE,KAAK;UACLC,KAAK,EAAE;QACT,CAAC,CAAC;QACF;MACF;IACF;IACA,SAASO,MAAMA,CAAA,EAAG;MAChBV,QAAQ,CAAC;QACPE,KAAK;QACLC,KAAK,EAAE;MACT,CAAC,CAAC;IACJ;IACA,SAASQ,OAAOA,CAACR,KAAK,EAAE;MACtBH,QAAQ,CAAC;QACPE,KAAK;QACLC;MACF,CAAC,CAAC;IACJ;IACAD,KAAK,CAACU,gBAAgB,CAAC,MAAM,EAAEF,MAAM,CAAC;IACtCR,KAAK,CAACU,gBAAgB,CAAC,OAAO,EAAED,OAAO,CAAC;IACxC,OAAO,MAAM;MACXT,KAAK,CAACW,mBAAmB,CAAC,MAAM,EAAEH,MAAM,CAAC;MACzCR,KAAK,CAACW,mBAAmB,CAAC,OAAO,EAAEF,OAAO,CAAC;IAC7C,CAAC;EACH,CAAC,EAAE,CAACd,UAAU,EAAEC,WAAW,CAAC,CAAC;EAC7B,OAAOC,KAAK;AACd"},"metadata":{},"sourceType":"script","externalDependencies":[]}