{"ast":null,"code":"import axios from 'axios';\nimport { createUrl, log } from '../utils/utils';\nexport async function registerUser(firstName, lastName, email, password, gender, mobile) {\n  const url = createUrl('/auth/register');\n  const body = {\n    first_name: firstName,\n    last_name: lastName,\n    email,\n    password,\n    gender,\n    mob_no: mobile\n  };\n  try {\n    const response = await axios.post(url, body);\n    log(response.data);\n    return response.data;\n  } catch (ex) {\n    log(ex);\n    return ex;\n  }\n}\nexport async function updatePass(email, password) {\n  const url = createUrl('/auth/changepass');\n  const body = {\n    email,\n    password\n  };\n  const token = sessionStorage.getItem(\"jwt\");\n  const config = {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  };\n  try {\n    const response = await axios.post(url, config, body);\n    log(\"RESPONSE\");\n    log(response);\n    log(response.data);\n    return response.data;\n  } catch (ex) {\n    log(ex);\n    return ex;\n  }\n}\nexport async function loginUser(email, password) {\n  // const url = createUrl('/user/login')\n  // const [token, settoken] = useState(sessionStorage.getItem('jwt'));\n  const token = sessionStorage.getItem('jwt');\n  const url = createUrl('/auth/login');\n  // http://localhost:3000/auth/login\n  const body = {\n    email,\n    password\n  };\n\n  // wait till axios is making the api call and getting response from server\n  try {\n    const response = await axios.post(url, body);\n    log(response.data);\n    return response.data;\n  } catch (ex) {\n    log(\"EX\");\n    log(ex);\n    return ex;\n  }\n}","map":{"version":3,"names":["axios","createUrl","log","registerUser","firstName","lastName","email","password","gender","mobile","url","body","first_name","last_name","mob_no","response","post","data","ex","updatePass","token","sessionStorage","getItem","config","headers","Authorization","loginUser"],"sources":["C:/Users/ratho/OneDrive/Desktop/My Workspace/Project_Ecommerce/react-express-sample/ecommerce-app/web-app/src/services/user.js"],"sourcesContent":["import axios from 'axios'\nimport { createUrl, log } from '../utils/utils'\n\nexport async function registerUser(\n  firstName,\n  lastName,\n  email,\n  password,\n  gender,\n  mobile\n) {\n  const url = createUrl('/auth/register')\n  const body = {\n    first_name:firstName,\n    last_name:lastName,\n    email,\n    password,\n    gender,\n    mob_no:mobile,\n  }\n\n  try {\n    const response = await axios.post(url, body)\n    log(response.data)\n    return response.data\n  } catch (ex) {\n    log(ex)\n    return ex;\n  }\n}\n\nexport async function updatePass(email,password) {\n  const url = createUrl('/auth/changepass')\n  const body = {email,password}\n\n  const token = sessionStorage.getItem(\"jwt\");\n  const config = {\n    headers:{Authorization:`Bearer ${token}`}\n  };\n\n  try {\n    const response = await axios.post(url, config, body);\n    log(\"RESPONSE\");\n    log(response);\n    log(response.data);\n    return response.data\n  } catch (ex) {\n    log(ex)\n    return ex;\n  }\n}\n\nexport async function loginUser(email, password) {\n  // const url = createUrl('/user/login')\n  // const [token, settoken] = useState(sessionStorage.getItem('jwt'));\n  const token = sessionStorage.getItem('jwt')\n  \n  const url = createUrl('/auth/login')\n  // http://localhost:3000/auth/login\n  const body = {\n    email,\n    password,\n  }\n\n  // wait till axios is making the api call and getting response from server\n  try {\n    const response = await axios.post(url, body)\n    log(response.data)\n    return response.data\n  } catch (ex) {\n    log(\"EX\")\n    log(ex)\n    return ex;\n  }\n}\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,EAAEC,GAAG,QAAQ,gBAAgB;AAE/C,OAAO,eAAeC,YAAYA,CAChCC,SAAS,EACTC,QAAQ,EACRC,KAAK,EACLC,QAAQ,EACRC,MAAM,EACNC,MAAM,EACN;EACA,MAAMC,GAAG,GAAGT,SAAS,CAAC,gBAAgB,CAAC;EACvC,MAAMU,IAAI,GAAG;IACXC,UAAU,EAACR,SAAS;IACpBS,SAAS,EAACR,QAAQ;IAClBC,KAAK;IACLC,QAAQ;IACRC,MAAM;IACNM,MAAM,EAACL;EACT,CAAC;EAED,IAAI;IACF,MAAMM,QAAQ,GAAG,MAAMf,KAAK,CAACgB,IAAI,CAACN,GAAG,EAAEC,IAAI,CAAC;IAC5CT,GAAG,CAACa,QAAQ,CAACE,IAAI,CAAC;IAClB,OAAOF,QAAQ,CAACE,IAAI;EACtB,CAAC,CAAC,OAAOC,EAAE,EAAE;IACXhB,GAAG,CAACgB,EAAE,CAAC;IACP,OAAOA,EAAE;EACX;AACF;AAEA,OAAO,eAAeC,UAAUA,CAACb,KAAK,EAACC,QAAQ,EAAE;EAC/C,MAAMG,GAAG,GAAGT,SAAS,CAAC,kBAAkB,CAAC;EACzC,MAAMU,IAAI,GAAG;IAACL,KAAK;IAACC;EAAQ,CAAC;EAE7B,MAAMa,KAAK,GAAGC,cAAc,CAACC,OAAO,CAAC,KAAK,CAAC;EAC3C,MAAMC,MAAM,GAAG;IACbC,OAAO,EAAC;MAACC,aAAa,EAAE,UAASL,KAAM;IAAC;EAC1C,CAAC;EAED,IAAI;IACF,MAAML,QAAQ,GAAG,MAAMf,KAAK,CAACgB,IAAI,CAACN,GAAG,EAAEa,MAAM,EAAEZ,IAAI,CAAC;IACpDT,GAAG,CAAC,UAAU,CAAC;IACfA,GAAG,CAACa,QAAQ,CAAC;IACbb,GAAG,CAACa,QAAQ,CAACE,IAAI,CAAC;IAClB,OAAOF,QAAQ,CAACE,IAAI;EACtB,CAAC,CAAC,OAAOC,EAAE,EAAE;IACXhB,GAAG,CAACgB,EAAE,CAAC;IACP,OAAOA,EAAE;EACX;AACF;AAEA,OAAO,eAAeQ,SAASA,CAACpB,KAAK,EAAEC,QAAQ,EAAE;EAC/C;EACA;EACA,MAAMa,KAAK,GAAGC,cAAc,CAACC,OAAO,CAAC,KAAK,CAAC;EAE3C,MAAMZ,GAAG,GAAGT,SAAS,CAAC,aAAa,CAAC;EACpC;EACA,MAAMU,IAAI,GAAG;IACXL,KAAK;IACLC;EACF,CAAC;;EAED;EACA,IAAI;IACF,MAAMQ,QAAQ,GAAG,MAAMf,KAAK,CAACgB,IAAI,CAACN,GAAG,EAAEC,IAAI,CAAC;IAC5CT,GAAG,CAACa,QAAQ,CAACE,IAAI,CAAC;IAClB,OAAOF,QAAQ,CAACE,IAAI;EACtB,CAAC,CAAC,OAAOC,EAAE,EAAE;IACXhB,GAAG,CAAC,IAAI,CAAC;IACTA,GAAG,CAACgB,EAAE,CAAC;IACP,OAAOA,EAAE;EACX;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}